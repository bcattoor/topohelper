<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Zoeken" href="../search.html" /><link rel="next" title="Werken met de commandoregel" href="WorkingWithTheCommandline.html" /><link rel="prev" title="Instaleren van de applicatie" href="InstallingApplication.html" />

    <meta name="generator" content="sphinx-3.3.1, furo 2020.11.10.beta15"/>
        <title>Berekenen van de as van het spoor a.d.h.v. de opgemeten rails - TopoHelper</title>
      <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <link rel="stylesheet" href="../_static/styles/furo.css?state=ea5fbb518c332c209ea560d7">
    <link rel="stylesheet" href="../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style>
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script><script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/tabs.js"></script>
    <script src="../_static/js/_blank-links.js"></script>
    <script src="../_static/translations.js"></script>
    <script src="../_static/scripts/main.js?state=ea5fbb518c332c209ea560d7"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<div class="announcement">
  <aside class="announcement-content">
    Topohelper: een door Infrabel ontwikkelde applicatie, is in voortdurende ontwikkeling. Deze documentatie kan dan ook fouten bevatten=
  </aside>
</div>
<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">TopoHelper</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">TopoHelper</span>
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder="Search" name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll">
  <div class="sidebar-tree">
    <p class="caption"><span class="caption-text">Inhoud:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">Welkom</a></li>
</ul>
<p class="caption"><span class="caption-text">Workflows:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="InstallingApplication.html">Instaleren van de applicatie</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Berekenen van de as van het spoor a.d.h.v. de opgemeten rails</a></li>
<li class="toctree-l1"><a class="reference internal" href="WorkingWithTheCommandline.html">Werken met de commandoregel</a></li>
</ul>
<p class="caption"><span class="caption-text">Commands:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../commands/commands-overview.html">Een overzicht van de commando’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/variables-overview.html">Een overzicht van de variabelen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/IAMTopo_Rails2RailwayCenterLine.html">Rails to Railway Center Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/IAMTopo_Settings.html">Instellingen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/IAMTopo_DistanceBetween2Polylines.html">Distance bestween two polylines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/IAMTopo_WeedPolyline.html">Weed Polyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/IAMTopo_JoinPolyline.html">Join Polyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/IAMTopo_SimplifyPolyline.html">Simplify Polyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/IAMTopo_CleanNonSurveyVertexFromPolyline.html">Clean Non Survey Verteces From Polyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/IAMTopo_PointsToPolyline.html">Points to Polyline</a></li>
</ul>

  </div>
  
  
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="berekenen-van-de-as-van-het-spoor-a-d-h-v-de-opgemeten-rails">
<h1>Berekenen van de as van het spoor a.d.h.v. de opgemeten rails<a class="headerlink" href="#berekenen-van-de-as-van-het-spoor-a-d-h-v-de-opgemeten-rails" title="Permalink naar deze titel">¶</a></h1>
<p>Berekenen van de spooras aan de hand van twee opgemeten rails (as-rail, binnenkant-rail).</p>
<div class="section" id="de-verkregen-bestanden">
<h2>De verkregen bestanden<a class="headerlink" href="#de-verkregen-bestanden" title="Permalink naar deze titel">¶</a></h2>
<p>Als voorbeeld hebben we een AutoCAD bestand gekregen van de lijn 60 (Hier -&gt; <span class="xref myst">OW17 L60</span>)</p>
<div class="section" id="wat-vinden-we-in-dat-bestand">
<h3>Wat vinden we in dat bestand?<a class="headerlink" href="#wat-vinden-we-in-dat-bestand" title="Permalink naar deze titel">¶</a></h3>
<p>In de laag <code class="docutils literal notranslate"><span class="pre">binnenkant</span> <span class="pre">rail</span></code> vinden we vier samengestelde lijnen <em>(aka enkele 3D Polylines)</em> met op elke vertex een xyz-waarde. De lijnen zijn niet samengevoegd, dus bestaan uit meerdere delen. Dit moeten we als eerste zien op te lossen.</p>
</div>
</div>
<div class="section" id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Permalink naar deze titel">¶</a></h2>
<div class="section" id="join-autocad-commando">
<h3>JOIN (AutoCAD commando)<a class="headerlink" href="#join-autocad-commando" title="Permalink naar deze titel">¶</a></h3>
<p>Omdat alle polylijnen mooi aaneensluitend zijn, kunnen we gebruik maken van het AutoCAD commando <code class="docutils literal notranslate"><span class="pre">join</span></code>. Was dit niet het geval dan zou dit met dat commando niet lukken. Om de polylijnen in één enkelvoudige beweging te kunnen joinen, zorg ik ervoor dat enkel de laag van de lijnen <code class="docutils literal notranslate"><span class="pre">Unlocked</span></code> staat.</p>
<div class="section" id="richting">
<h4>Richting<a class="headerlink" href="#richting" title="Permalink naar deze titel">¶</a></h4>
<p>Na het samenvoegen van de lijnen controleren we of dat de richting van de polylijnen aan elkaar gelijk zijn.
Ook zorgen we ervoor dat de algemene richting de kilometrering van de hoofdlijn volgt.</p>
</div>
<div class="section" id="vertexen">
<h4>Vertexen<a class="headerlink" href="#vertexen" title="Permalink naar deze titel">¶</a></h4>
<p>We controleren ook of per spoor beide rail-lijnen <strong>evenveel vertexen hebben</strong>. Hier in ons voorbeeld is dit niet het geval. Na een visuele controle merken we op dat dit komt doordat er vertexen zijn die door de opmeter zijn toegevoegd. <strong>Deze vallen niet op effectief opgemeten punten. Indien we deze verwijderen zullen we eenzelfde aantal punten bekomen voor elke polyijn van de rail.</strong></p>
</div>
</div>
<div class="section" id="iamtopo-cleannonsurveyvertexfrompolyline">
<h3>IAMTopo_CleanNonSurveyVertexFromPolyline<a class="headerlink" href="#iamtopo-cleannonsurveyvertexfrompolyline" title="Permalink naar deze titel">¶</a></h3>
<p>Dit commando zal elk punt dat zich niet op een echt meetpunt bevindt, verwijderen uit de lijst met punten, en een nieuwe lijn creëren. We selecteren eerst een opmeetpunt, en daarna de polylijn die we wensen op te kuisen.
Na een controle merken we dat de 4-lijnen van de rails evenveel vertexen hebben.
We zijn nu klaar om over te gaan naar het berekenen van het center.
Om de origineel aangeleverde lijnen niet te wijzigen, heb ik de nieuwe lijnen verplaats naar een nieuwe laag. Laagnaam: <code class="docutils literal notranslate"><span class="pre">Binnenkant</span> <span class="pre">Rail</span> <span class="pre">Verwijderde</span> <span class="pre">Punten</span></code></p>
<div class="section" id="iamtopo-rails2railwaycenterline">
<h4>IAMTopo_Rails2RailwayCenterLine<a class="headerlink" href="#iamtopo-rails2railwaycenterline" title="Permalink naar deze titel">¶</a></h4>
<p>Met het commando <code class="docutils literal notranslate"><span class="pre">IAMTopo_Rails2RailwayCenterLine</span></code> kunnen we nu het center tussen de twee lijnen berekenen.</p>
<p>Ook dient er een correctie te gebeuren om de scheefstand van de bolprismas te corigeren. Het algoritm houdt enkel rekening met <em>de verplaatsing in xy richting</em>, de verplaatsing van de z-waarde werd reeds door de opperator van de waarde afgetrokken. Om er voor te zorgen dat er een correctie wordt berekend moeten we de omgevingsvariabel <code class="docutils literal notranslate"><span class="pre">Rails2RailwayCenterLine_Use_CalculateSurveyCorrection</span></code>op de waarde <code class="docutils literal notranslate"><span class="pre">True</span></code>staat in het instellingen paneel.</p>
<p>Het instellingen paneel kunnen we oproepen aan de hand van het commando <code class="docutils literal notranslate"><span class="pre">IAMTopo_Settings</span></code>. Terwijl we in dit venster zijn kunnen we ook instellen waar we de bestanden wensen heen te schrijven a.d.h.v. <code class="docutils literal notranslate"><span class="pre">Rails2RailwayCenterLine_PathToCSVFile</span></code>en <code class="docutils literal notranslate"><span class="pre">CalculateSurveyCorrection_PathToCsvFile</span></code>. Deze bestanden zullen het resultaat bevatten van de twee berekeningen. Deze kunnen dan op hen beurt worden gebruikt om te controleren ofdat alles goed werd berekend.</p>
<p>In normale omstandigheden hoeven deze bestanden niet te worden aangemaakt. We kunnen deze dan ook uitschakkelen in het <code class="docutils literal notranslate"><span class="pre">SettingsPanel.</span></code></p>
</div>
</div>
<div class="section" id="controle">
<h3>Controle<a class="headerlink" href="#controle" title="Permalink naar deze titel">¶</a></h3>
<p>Hoe controleren we nu of dit correct is? We kunnen vergelijken met het resultaat van de opmeter. In een <span class="xref myst">ander AutoCAD bestand</span>, vinden we de berekende centerlijnen van beide sporen terug. Deze werden aangemaakt door Nicolas Rogge. Deze polylijnen zijn echter nog niet samengevoegd tot een enkele samengestelde lijn. Dit doen we met <a class="reference external" href="https://bitbucket.org/cadsmurfs/topohelper/wiki/commands/IAMTopo_JoinPolyline">het commando</a> <code class="docutils literal notranslate"><span class="pre">IAMTOPO_JOINPOLYLINE</span></code>. Wanneer deze polylijnen zijn samengevoegd, kunnen we de lijn kopiëren naar onze vorige tekening.
De controle kunnen we nu uitvoeren adhv <a class="reference external" href="https://bitbucket.org/cadsmurfs/topohelper/wiki/commands/IAMTopo_DistanceBetween2Polylines">het commando</a> <code class="docutils literal notranslate"><span class="pre">IAMTopo_DistanceBetween2Polylines</span></code>.</p>
</div>
<div class="section" id="iamtopo-distancebetween2polylines">
<h3>IAMTopo_DistanceBetween2Polylines<a class="headerlink" href="#iamtopo-distancebetween2polylines" title="Permalink naar deze titel">¶</a></h3>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="WorkingWithTheCommandline.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Werken met de commandoregel</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="InstallingApplication.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Instaleren van de applicatie</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2020, Bjorn Cattoor
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/workflow/CalculatingRailwayCenterLine.md.txt"
               rel="nofollow">
              Broncode weergeven
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Inhoudsopgave
          </span>
        </div>
        <div class="toc-tree">
          <ul>
<li><a class="reference internal" href="#">Berekenen van de as van het spoor a.d.h.v. de opgemeten rails</a><ul>
<li><a class="reference internal" href="#de-verkregen-bestanden">De verkregen bestanden</a><ul>
<li><a class="reference internal" href="#wat-vinden-we-in-dat-bestand">Wat vinden we in dat bestand?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#workflow">Workflow</a><ul>
<li><a class="reference internal" href="#join-autocad-commando">JOIN (AutoCAD commando)</a><ul>
<li><a class="reference internal" href="#richting">Richting</a></li>
<li><a class="reference internal" href="#vertexen">Vertexen</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iamtopo-cleannonsurveyvertexfrompolyline">IAMTopo_CleanNonSurveyVertexFromPolyline</a><ul>
<li><a class="reference internal" href="#iamtopo-rails2railwaycenterline">IAMTopo_Rails2RailwayCenterLine</a></li>
</ul>
</li>
<li><a class="reference internal" href="#controle">Controle</a></li>
<li><a class="reference internal" href="#iamtopo-distancebetween2polylines">IAMTopo_DistanceBetween2Polylines</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>